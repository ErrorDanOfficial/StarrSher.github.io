:root{
  --bg:#0b0d10; --fg:#e8f0ff; --muted:#9bb0d0; --primary:#7aa2ff; --accent:#29ffc6; --danger:#ff5a7a; --panel:rgba(255,255,255,.06);
  --shadow:0 10px 30px rgba(0,0,0,.25);
}
body[data-theme="white"]{ --bg:#f6f7fb; --fg:#121419; --muted:#6d7585; --primary:#4a6cff; --accent:#00c6ff; --danger:#ff3b5c; --panel:rgba(0,0,0,.06); }
body[data-theme="minecraft"]{ --bg:#2b3a2e; --fg:#e9f6e9; --muted:#b7d3b7; --primary:#6abf69; --accent:#9cdc64; --danger:#ff6b6b; --panel:rgba(255,255,255,.08); font-smooth:never; image-rendering: pixelated; }
body[data-theme="cyber"]{ --bg:#0a0b14; --fg:#e6f7ff; --muted:#88a3b8; --primary:#00eaff; --accent:#ff00d4; --danger:#ff3b5c; --panel:rgba(0,255,255,.08); }
body[data-theme="liquid"]{ --bg:#0b1015; --fg:#e8f4ff; --muted:#a6b6c8; --primary:#6ab0ff; --accent:#8ee7ff; --danger:#ff6e8a; --panel:rgba(255,255,255,.08); backdrop-filter:saturate(1.2) blur(8px);} 
body[data-theme="skeuo"]{ --bg:#dcd3c7; --fg:#2d2419; --muted:#6b5b4a; --primary:#a66a31; --accent:#7db5a9; --danger:#b33a3a; --panel:rgba(0,0,0,.06);} 

*{ box-sizing:border-box }
html,body,#app{ height:100% }
body{ margin:0; background:var(--bg); color:var(--fg); font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; transition: background .6s ease, color .6s ease; }

.screen{ position:absolute; inset:0; display:none; padding:24px; }
.screen.visible{ display:block; animation: fadeIn .5s ease }
@keyframes fadeIn{ from{ opacity:0; transform: translateY(6px)} to{ opacity:1; transform:none } }

.logo{ text-align:center; margin-top:6vh; margin-bottom:4vh }
.logo-title{ font-weight:800; font-size: clamp(28px, 5vw, 54px); letter-spacing:.5px }
.logo-sub{ opacity:.8 }

.menu-grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:16px; max-width:880px; margin:0 auto }
.btn{ background:var(--panel); color:var(--fg); border:1px solid transparent; border-radius:14px; padding:14px 18px; cursor:pointer; box-shadow: var(--shadow); transition: transform .12s ease, background .3s ease, border-color .3s ease; }
.btn:hover{ transform: translateY(-1px); border-color: color-mix(in lab, var(--primary) 50%, transparent) }
.btn:active{ transform: translateY(0) scale(.99) }
.btn.primary{ background: linear-gradient(135deg, var(--primary), var(--accent)); color:#001018; font-weight:800 }
.btn.small{ padding:8px 12px; border-radius:10px }
.btn.danger{ background: linear-gradient(135deg, var(--danger), #ffb3c3) }

.meta{ max-width:880px; margin:20px auto 0; display:grid; gap:8px }
.meta-row{ display:flex; align-items:center; gap:12px }
.xp-bar{ flex:1; height:12px; background:var(--panel); border-radius:999px; overflow:hidden }
.xp-fill{ height:100%; background: linear-gradient(90deg, var(--accent), var(--primary)); width:0 }

.theme-switcher{ position: fixed; right:24px; bottom:24px; display:flex; gap:8px; align-items:center; background:var(--panel); padding:10px 12px; border-radius:12px; box-shadow: var(--shadow) }

.toolbar{ display:flex; align-items:center; gap:12px }
.toolbar .title{ font-weight:800; font-size:20px }
.card-grid{ display:grid; grid-template-columns: repeat(auto-fill,minmax(220px,1fr)); gap:16px; margin-top:16px }
.card{ background:var(--panel); border-radius:16px; padding:16px; display:flex; flex-direction:column; gap:12px; box-shadow: var(--shadow); border:1px solid transparent; }
.card .actions{ display:flex; gap:8px; flex-wrap:wrap }
.card.locked{ opacity:.75; border-color: rgba(255,0,0,.2) }
.price{ opacity:.9 }
.tag{ font-size:12px; opacity:.7 }
.preview{ margin-top:16px; height:200px; background:var(--panel); border-radius:16px; display:flex; align-items:center; justify-content:center; box-shadow: var(--shadow) }

.tabs{ display:flex; gap:8px; margin-top:12px }
.tab{ background:var(--panel); padding:10px 14px; border-radius:12px; cursor:pointer }
.tab.active{ background: linear-gradient(135deg, var(--primary), var(--accent)); color:#001018; font-weight:800 }

.settings{ max-width:720px; margin-top:12px; display:grid; gap:14px }
.settings .row{ display:flex; align-items:center; gap:12px }

.credits{ margin-top:12px; opacity:.85 }

/* Game */
#screen-game{ padding:0 }
.game-ui{ position:absolute; top:12px; left:12px; right:12px; display:flex; align-items:center; justify-content:space-between; z-index:2 }
.hud-left,.hud-center,.hud-right{ display:flex; gap:12px; align-items:center; background:var(--panel); padding:8px 12px; border-radius:12px; box-shadow: var(--shadow) }
#game-canvas{ position:absolute; inset:0; width:100%; height:100% }
.toast{ position:absolute; left:50%; top:10%; transform: translate(-50%,-50%); padding:10px 14px; background: linear-gradient(135deg, var(--accent), var(--primary)); color:#001018; border-radius:999px; box-shadow: var(--shadow); opacity:0; pointer-events:none }
.toast.show{ animation: toastIn .8s ease }
@keyframes toastIn{ 0%{ transform: translate(-50%,-20px); opacity:0 } 20%,80%{ transform: translate(-50%,0); opacity:1 } 100%{ transform: translate(-50%,-20px); opacity:0 } }

.mutator-wave{ position:absolute; inset:0; pointer-events:none; background: radial-gradient(circle at center, color-mix(in lab, var(--accent) 40%, transparent), transparent 60%); opacity:0; }
.mutator-wave.show{ animation: wave .6s ease }
@keyframes wave{ from{ transform: scale(.6); opacity:.6 } to{ transform: scale(2.2); opacity:0 } }

.overlay{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; background: rgba(0,0,0,.35); z-index:3 }
.overlay.hidden{ display:none }
.panel{ background:var(--panel); padding:20px; border-radius:16px; box-shadow: var(--shadow) }

/* Game Over */
#screen-gameover{ /* hidden by default via .screen; become flex only when visible */ align-items:center; justify-content:center }
#screen-gameover.visible{ display:flex }
.gameover{ background:var(--panel); padding:24px; border-radius:18px; box-shadow: var(--shadow); animation: fadeIn .5s ease }
.gameover .title{ font-weight:800; font-size:28px; margin-bottom:12px }
.gameover .stats{ display:grid; gap:6px; margin:12px 0 }
.gameover .actions{ display:flex; gap:8px }

/* Particles */
.particle{ position:absolute; width:6px; height:6px; border-radius:999px; pointer-events:none }


